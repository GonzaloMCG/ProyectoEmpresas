<section>
  <div class="close-button-line">
    <button mat-dialog-close class="cross">&times;</button>
  </div>
  <div mat-dialog-content class="new-user-data">
    <form [formGroup]="addUserForm" (submit)="submit()">
      <div class="form-input">
        <div class="item-atribute">
          <span>Usuario:</span>
          <input id="username" class="input input-user" type="text" autocomplete="off" formControlName="username">
          <div *ngIf="username.invalid && (username.dirty || username.touched)" class="alert alert-danger">
            <div *ngIf="username.errors?.required">
              No puede ser vacío.
            </div>
          </div>
        </div>
        <div class="item-atribute">
          <span>Rol:</span>
          <select class="action-select-box" formControlName="roles">
            <option [selected]="true" value="User" class="select-option">Operador</option>
            <option value="Admin" class="select-option">Administrador</option>
          </select>
        </div>
        <div class="item-atribute">
          <span>Contraseña:</span>
          <input id="password" class="input input-password" type="password" autocomplete="off"
            formControlName="password"
            [class.invalid-input-container]="password.hasError('required') && password.hasError('minlength') && password.hasError('hasNumber') && password.hasError('hasCapitalCase') && password.hasError('hasSmallCase') && submitted">
          <div *ngIf="password.invalid && (password.dirty || password.touched)" class="alert alert-danger">
            <div *ngIf="password.hasError('required') || password.hasError('minlength')">
              Debe contener al menos 8 caracteres.
            </div>
            <div *ngIf="password.hasError('required') || password.hasError('hasNumber')">
              Debe contener al menos un número.
            </div>
            <div *ngIf="password.hasError('required') || password.hasError('hasCapitalCase')">
              Debe contener al menos una mayúscula.
            </div>
            <div *ngIf="password.hasError('required') || password.hasError('hasSmallCase')">
              Debe contener al menos una minúscula.
            </div>
            <!--<div *ngIf="password.hasError('required') || password.hasError('hasSpecialCharacters')">
                Debe contener al menos un caracter especial.
              </div>-->
          </div>
        </div>
        <div class="item-atribute">
          <span>Confirmar contraseña:</span>
          <input id="repeatPassword" class="input input-password" type="password" autocomplete="off"
            formControlName="repeatPassword"
            [class.invalid-input-container]="repeatPassword.hasError('required') && repeatPassword.hasError('NoPassswordMatch') && submitted">
          <div *ngIf="repeatPassword.invalid && (repeatPassword.dirty || repeatPassword.touched)"
            class="alert alert-danger">
            <div *ngIf="repeatPassword.hasError('required')">
              No puede ser vacío.
            </div>
            <div *ngIf="repeatPassword.hasError('NoPassswordMatch')">
              Los contraseñas no coinciden.
            </div>
          </div>
        </div>
      </div>
      <div class="button-row">
        <button type="button" class="button">
          <a class="action-btn-cancel" (click)="close()">Cancelar</a>
        </button>
        <button type="button" class="button" [disabled]="addUserForm.invalid">
          <a class="action-btn-save" (click)="submit()">Guardar</a>
        </button>
      </div>
    </form>
  </div>
</section>